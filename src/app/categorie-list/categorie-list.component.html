<p-toast></p-toast>
<div class="main-content">
    <div class="d-flex">
        <div class="spinner-container p-2" *ngIf="dataSource.loading$ | async">
            <mat-spinner></mat-spinner>
        </div>

        <div class="ml-auto p-2">
            <button type="button" class="btn btn-danger rounded-circle" [routerLink]="'/categories/add'">
                <span class="material-icons">
                    add_circle
                    </span>
            </button>
        </div>
    </div>

    <mat-table class="lessons-table mat-elevation-z8" [dataSource]="dataSource">
        <ng-container matColumnDef="id">
            <mat-header-cell *matHeaderCellDef mat-sort-header>id</mat-header-cell>
            <mat-cell *matCellDef="let categorie">{{categorie?.categorieId}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef>Nom</mat-header-cell>
            <mat-cell class="description-cell" *matCellDef="let categorie">{{categorie?.name}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="options">
            <mat-header-cell *matHeaderCellDef>Options</mat-header-cell>
            <mat-cell class="description-cell"
                      *matCellDef="let categorie">
                <div class="card-header card-header-success card-header-icon">
                    <div class="card-icon">
                        <i class="material-icons"><a (click)="delete(categorie?.categorieId)">delete</a></i>
                    </div>
                </div>
            </mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    </mat-table>
</div>
